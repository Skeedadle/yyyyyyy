<!DOCTYPE html>
<html>
	<head>
		<title>eagler</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="Eaglercraft is real Minecraft 1.5.2 that you can play in any regular web browser. That includes school chromebooks, it works on all chromebooks. You can join real Minecraft 1.5.2 servers with it through a custom proxy based on Bungeecord."
		/>
		<meta
			name="keywords"
			content="minecraft, applet, chromebook, lax1dude, games, eaglercraft, eagler"
		/>
		<meta name="author" content="LAX1DUDE" />
		<meta property="og:title" content="Eaglercraft" />
		<meta property="og:locale" content="en-US" />
		<meta property="og:type" content="website" />
		<meta
			property="og:image"
			content="https://media.discordapp.net/attachments/378764518081429506/932053915061587978/thumbnail2.png"
		/>
		<meta
			property="og:description"
			content="Eaglercraft is real Minecraft 1.5.2 that you can play in any regular web browser. That includes school chromebooks, it works on all chromebooks. You can join real Minecraft 1.5.2 servers with it through a custom proxy based on Bungeecord."
		/>
		<style>
			#game_frame {
				margin: 0px;
				width: 100vw;
				height: 100vh;
			}
		</style>
		<!-- Change this: <meta property="og:url" content="https://g.eags.us/eaglercraft/" /> -->
		<script type="text/javascript" src="classes.js"></script>
		<script type="text/javascript" src="./pnbt.js"></script>
		<script type="text/javascript">
			const nbt = require('prismarine-nbt');
			let ws;

			if (location.hostname === 'localhost') {
				ws = new URL('ws://mc.titaniumnetwork.org:40277/eag');
			} else {
				ws = new URL(`ws://${location.host}/eag`);
			}

			if (location.protocol === 'http:') {
				ws.protocol = 'ws://';
			} else {
				ws.protocol = 'wss://';
			}

			const servers = {
				type: 'compound',
				name: '',
				value: {
					servers: {
						type: 'list',
						value: {
							type: 'compound',
							value: [
								{
									ip: {
										type: 'string',
										value: ws.toString(),
									},
									name: {
										type: 'string',
										value: 'TitaniumNetwork SMP',
									},
								},
							],
						},
					},
				},
			};

			window.addEventListener('load', function () {
				window.minecraftOpts = [
					'game_frame',
					'assets.epk',
					nbt.writeUncompressed(servers).toString('base64'),
				];
				(function () {
					var q = window.location.search;
					if (typeof q === 'string' && q.startsWith('?')) {
						q = new URLSearchParams(q);
						var s = q.get('server');
						if (s) window.minecraftOpts.push(s);
					}
				})();
				main();
			});
		</script>
	</head>
	<body id="game_frame"></body>
</html>
